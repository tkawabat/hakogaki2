# アプリ概要

小説・シナリオ作成のために箱書きを行うアプリ。
本文と設定を分けて作成できる。
生成AIで本文と設定を自動生成できる。

## アプリの機能
アプリは1画面で構成され、ヘッダーメニュー、メインコンテンツ、フッターのAIモジュールで構成されている。

- ヘッダーメニュー
  - アプリ名
    - アプリ名が表示される
  - シナリオタイトル
    - シナリオタイトルが表示され、編集できる
  - シナリオ関連ボタン
    - 押下するとドロップダウンで以下のボタンが表示される
      - シナリオの作成
        - 新たに空のシナリオを作成できる 
      - シナリオの保存
        - シナリオの本文・設定を一つのjsonファイルにして、Google Driveに保存できる
      - シナリオの読み込み
        - Google Driveからjsonファイルを読み込める
      - シナリオのエクスポート
        - シナリオの本文をtxtファイルにエクスポートできる
  - ウィンドウボタン
    - 押下するとドロップダウンで以下のボタンが表示される
      - 新規にウィンドウを表示する
      - ウィンドウを整列する
  - ユーザーアイコン
    - ログインしていない場合は、"G"というアイコンが表示される
      - 押下するとGoogleアカウントでログインできる
    - ログインしている場合は、ユーザー名が表示される
      - 押下するとログアウトするか確認し、ログアウトできる
- メインコンテンツ
  - ウィンドウを1つ~4個まで表示できる
    - ウィンドウの種類は以下
      - 本文ウィンドウ
        - 空のシーンを作成できる
        - シーンの本文を入力できる
        - ボックスの順番をドロップアンドドロップで入れ替えることができる
        - ボックスを削除することができる
      - 設定ウィンドウ
        - ボックスを作成して、その中に設定を入力できる
      - キャラクタウィンドウ
        - ボックスを作成して、その中に名前を入力できる
        - ボックスを作成して、設定を入力できる
      - アイディアウィンドウ
        - ボックスを作成して、その中に設定を入力できる
        - アイディアをシーンに紐づけることができる
          - シーンに紐づけない状態も可能
  - ウィンドウのサイズを変更できる
  - ウィンドウをドロップアンドドロップで配置を変えることができる
- フッターAIモジュール
  - 画面右下にAIボタンがあり、押下するとチャットUIが表示される
  - チャットUIでユーザーが入力すると、以下のどちらかが
    - 返信するべき内容であれば、AIによる返信が表示される
    - シナリオ・シーン・キャラクタ・アイディアのどれかを作成・編集する必要があれば、AIがその内容を生成して、差分をユーザーに表示する
      - ユーザーがその内容を取り込むか、あるいは拒否することができる

## ドメイン
- Scenario
  - id
  - title
  - setting
- Scene
  - id
  - scenario_id
  - text
  - setting
  - order
- Character
  - id
  - name
  - text
- Idea
  - id
  - scenario_id
  - scene_id
  - text
