# アプリ概要

小説家、脚本家、シナリオライターが「箱書き」手法を用いて効率的に創作活動を行えるWebベースの執筆エディタを提供する。
設定、プロット、本文を統合的に管理し、シーン単位での構造化された執筆環境を実現する。
AI Agentにより、設定・プロット・本文の相談、自動執筆、出来上がった内容のレビューができ、執筆をサポートできる。

- 解決したい課題
  - 従来の執筆ツールは線形的な文章作成に特化しており、シーン構造を意識した執筆には不向き
  - 設定資料、プロット、本文が分散して管理されることが多く、一貫性の維持が困難
  - 複数デバイスでの執筆継続や共同執筆のニーズに対応できていない
  - AI Agentを用いた執筆は、IT技術が高い個人が各々のやり方で実現している

## アプリの機能
アプリは1画面で構成され、ヘッダーメニュー、メインコンテンツ、フッターのAIモジュールで構成されている。

- ヘッダーメニュー
  - アプリ名
    - アプリ名が表示される
  - シナリオタイトル
    - シナリオタイトルが表示され、編集できる
  - シナリオ関連ボタン
    - 押下するとドロップダウンで以下のボタンが表示される
      - new project
        - 新たに空のシナリオを作成できる 
      - save
        - シナリオの本文・設定を一つのjsonファイルにして、Google Driveに保存できる
      - load
        - Google Driveからjsonファイルを読み込める
      - export
        - シナリオの本文をtxtファイルにエクスポートできる
  - ウィンドウボタン
    - 押下するとドロップダウンで以下のボタンが表示される
      - 新規にウィンドウを表示する
      - ウィンドウを整列する
  - ユーザーアイコン
    - ログインしていない場合は、"G"というアイコンが表示される
      - 押下するとGoogleアカウントでログインできる
    - ログインしている場合は、ユーザー名が表示される
      - 押下するとログアウトするか確認し、ログアウトできる
- メインコンテンツ
  - ウィンドウを1つ~4個まで表示できる
    - ウィンドウの種類は以下
      - 本文ウィンドウ
        - 空のシーンを作成できる
        - シーンの本文を入力できる
        - ボックスの順番をドロップアンドドロップで入れ替えることができる
        - ボックスを削除することができる
      - 設定ウィンドウ
        - ボックスを作成して、その中に設定を入力できる
      - キャラクタウィンドウ
        - ボックスを作成して、その中に名前を入力できる
        - ボックスを作成して、設定を入力できる
      - アイディアウィンドウ
        - ボックスを作成して、その中に設定を入力できる
        - アイディアをシーンに紐づけることができる
          - シーンに紐づけない状態も可能
  - ウィンドウのサイズを変更できる
  - ウィンドウをドロップアンドドロップで配置を変えることができる
- フッターAIモジュール
  - 画面右下にAIボタンがあり、押下するとチャットUIが表示される
  - チャットUIでユーザーが入力すると、以下のどちらかが
    - 返信するべき内容であれば、AIによる返信が表示される
    - シナリオ・シーン・キャラクタ・アイディアのどれかを作成・編集する必要があれば、AIがその内容を生成して、差分をユーザーに表示する
      - ユーザーがその内容を取り込むか、あるいは拒否することができる

## ドメイン
- Scenario
  - id
  - title
  - setting
- Scene
  - id
  - scenario_id
  - text
  - setting
  - order
- Character
  - id
  - name
  - text
- Idea
  - id
  - scenario_id
  - scene_id
  - text
